#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900	
#define RBAT_PULL_DOWN_R		   27000	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#define RBAT_PULL_DOWN_R		  100000	
#endif
#define RBAT_PULL_UP_VOLT          1800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
//BEGIN <battary> <DATE20130620> <battary tempreature> zhangxiaofei
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
    	{-30,124607},
    	{-25,94918},
        {-20,73035},
        {-15,56734},
        {-10,44468},
        { -5,35150},
        {  0,28008},
        {  5,22486},
        { 10,18182},
        { 15,14803},
        { 20,12129},
        { 25,10000},
        { 30,8292},
        { 35,6914},
        { 40,5795},
        { 45,4872},
        { 50,4101},
        { 55,3467},
        { 60,2936},
        { 65,2494},
        { 70,2130},
        { 75,1817},
        { 80,1562}
    };
#endif
//END <battary> <DATE20130620> <battary tempreature> zhangxiaofei
#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C                   
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{                            
	{0   , 4161} ,
	{2   , 4142} ,
	{4   , 4125} ,
	{5   , 4101} ,
	{7   , 4060} ,
	{9   , 4024} ,
	{11  , 4006} ,
	{13  , 3992} ,
	{15  , 3979} ,
	{16  , 3966} ,
	{18  , 3956} ,
	{20  , 3946} ,
	{22  , 3935} ,
	{24  , 3924} ,
	{25  , 3913} ,
	{27  , 3903} ,
	{29  , 3893} ,
	{31  , 3882} ,
	{33  , 3871} ,
	{35  , 3858} ,
	{36  , 3846} ,
	{38  , 3835} ,
	{40  , 3824} ,
	{42  , 3814} ,
	{44  , 3806} ,
	{45  , 3800} ,
	{47  , 3795} ,
	{49  , 3790} ,
	{51  , 3787} ,
	{53  , 3784} ,
	{55  , 3782} ,
	{56  , 3781} ,
	{58  , 3778} ,
	{60  , 3777} ,
	{62  , 3775} ,
	{64  , 3773} ,
	{65  , 3771} ,
	{67  , 3767} ,
	{69  , 3764} ,
	{71  , 3761} ,
	{73  , 3754} ,
	{75  , 3747} ,
	{76  , 3739} ,
	{78  , 3728} ,
	{80  , 3716} ,
	{82  , 3702} ,
	{84  , 3686} ,
	{85  , 3666} ,
	{87  , 3645} ,
	{89  , 3620} ,
	{91  , 3597} ,
	{93  , 3574} ,
	{95  , 3552} ,
	{96  , 3526} ,
	{98  , 3493} ,
	{100 , 3444} ,
	{100 , 3444} ,
	{100 , 3444} ,
	{100 , 3444} ,
	{100 , 3444} ,
	{100 , 3444} ,
	{100 , 3444} ,
	{100 , 3444} ,
	{100 , 3444} ,
	{100 , 3444}  
};                           
                             
// T1 0C                     
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{                            
	{0   , 4175} ,
	{2   , 4115} ,
	{3   , 4081} ,
	{5   , 4063} ,
	{7   , 4047} ,
	{8   , 4031} ,
	{10  , 4018} ,
	{12  , 4005} ,
	{14  , 3992} ,
	{15  , 3981} ,
	{17  , 3969} ,
	{19  , 3958} ,
	{20  , 3949} ,
	{22  , 3938} ,
	{24  , 3928} ,
	{25  , 3918} ,
	{27  , 3910} ,
	{29  , 3901} ,
	{30  , 3893} ,
	{32  , 3882} ,
	{34  , 3873} ,
	{36  , 3864} ,
	{37  , 3852} ,
	{39  , 3840} ,
	{41  , 3829} ,
	{42  , 3817} ,
	{44  , 3808} ,
	{46  , 3800} ,
	{47  , 3795} ,
	{49  , 3790} ,
	{51  , 3786} ,
	{52  , 3784} ,
	{54  , 3780} ,
	{56  , 3779} ,
	{57  , 3778} ,
	{59  , 3777} ,
	{61  , 3776} ,
	{63  , 3775} ,
	{64  , 3775} ,
	{66  , 3773} ,
	{68  , 3771} ,
	{69  , 3770} ,
	{71  , 3767} ,
	{73  , 3764} ,
	{74  , 3759} ,
	{76  , 3751} ,
	{78  , 3744} ,
	{79  , 3732} ,
	{81  , 3718} ,
	{83  , 3702} ,
	{85  , 3684} ,
	{86  , 3663} ,
	{88  , 3641} ,
	{90  , 3615} ,
	{91  , 3592} ,
	{93  , 3570} ,
	{95  , 3549} ,
	{96  , 3531} ,
	{98  , 3497} ,
	{100 , 3423} ,
	{100 , 3423} ,
	{100 , 3423} ,
	{100 , 3423} ,
	{100 , 3423} ,
	{100 , 3423} 	    
};                           
                             
// T2 25C                    
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{                            
	{0   , 4170} ,
	{2   , 4145} ,
	{3   , 4125} ,
	{5   , 4109} ,
	{6   , 4093} ,
	{8   , 4077} ,
	{10  , 4061} ,
	{11  , 4048} ,
	{13  , 4034} ,
	{15  , 4019} ,
	{16  , 4007} ,
	{18  , 3994} ,
	{19  , 3983} ,
	{21  , 3973} ,
	{23  , 3961} ,
	{24  , 3949} ,
	{26  , 3939} ,
	{27  , 3929} ,
	{29  , 3920} ,   
	{31  , 3912} ,   
	{32  , 3902} ,   
	{34  , 3894} ,   
	{35  , 3886} ,   
	{37  , 3876} ,   
	{39  , 3869} ,   
	{40  , 3862} ,   
	{42  , 3853} ,   
	{44  , 3844} ,   
	{45  , 3832} ,   
	{47  , 3820} ,   
	{48  , 3809} ,   
	{50  , 3799} ,   
	{52  , 3793} ,        
	{53  , 3787} ,
	{55  , 3782} ,
	{56  , 3779} ,
	{58  , 3776} ,
	{60  , 3774} ,
	{61  , 3773} ,
	{63  , 3771} ,
	{64  , 3770} ,
	{66  , 3769} ,
	{68  , 3768} ,
	{69  , 3767} ,
	{71  , 3766} ,
	{73  , 3764} ,
	{74  , 3762} ,
	{76  , 3758} ,
	{77  , 3754} ,
	{79  , 3748} ,
	{81  , 3738} ,
	{82  , 3727} ,
	{84  , 3716} ,
	{85  , 3701} ,
	{87  , 3687} ,
	{89  , 3668} ,
	{90  , 3649} ,
	{92  , 3632} ,
	{93  , 3612} ,
	{95  , 3587} ,
	{97  , 3536} ,
	{98  , 3492} ,
	{100 , 3407} ,
	{100 , 3281} ,
	{100 , 3062}         	       
};                           
                             
// T3 50C                    
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{                            
	{0   , 4179} ,
	{2   , 4158} ,
	{3   , 4139} ,
	{5   , 4120} ,
	{6   , 4104} ,
	{8   , 4088} ,
	{9   , 4073} ,
	{11  , 4058} ,
	{12  , 4045} ,
	{14  , 4030} ,
	{16  , 4017} ,
	{17  , 4004} ,
	{19  , 3992} ,
	{20  , 3978} ,
	{22  , 3967} ,
	{23  , 3956} ,
	{25  , 3945} ,
	{26  , 3935} ,
	{28  , 3925} ,
	{30  , 3916} ,
	{31  , 3906} ,
	{33  , 3897} ,
	{34  , 3889} ,
	{36  , 3880} ,
	{37  , 3872} ,
	{39  , 3862} ,
	{40  , 3854} ,
	{42  , 3847} ,
	{44  , 3837} ,
	{45  , 3823} ,
	{47  , 3810} ,
	{48  , 3800} ,
	{50  , 3791} ,
	{51  , 3784} ,
	{53  , 3780} ,
	{55  , 3775} ,
	{56  , 3772} ,
	{58  , 3768} ,
	{59  , 3765} ,
	{61  , 3764} ,
	{62  , 3762} ,
	{64  , 3761} ,
	{65  , 3759} ,
	{67  , 3758} ,
	{69  , 3757} ,
	{70  , 3754} ,
	{72  , 3752} ,
	{73  , 3746} ,
	{75  , 3737} ,
	{76  , 3733} ,
	{78  , 3725} ,
	{79  , 3716} ,
	{81  , 3706} ,
	{83  , 3695} ,
	{84  , 3683} ,
	{86  , 3669} ,
	{87  , 3653} ,
	{89  , 3636} ,
	{90  , 3621} ,
	{92  , 3605} ,
	{93  , 3582} ,
	{95  , 3559} ,
	{97  , 3538} ,
	{98  , 3498} ,
	{100 , 3424} 	       
};                           

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
        {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};      

/////////////////////////////////////////////////////////////////////
// <Rbat, Battery_Voltage> Table
/////////////////////////////////////////////////////////////////////
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
	{285  ,  4161 },
	{378  ,  4142 },
	{390  ,  4125 },
	{418  ,  4101 },
	{499  ,  4060 },
	{662  ,  4024 },
	{724  ,  4006 },
	{743  ,  3992 },
	{757  ,  3979 },
	{764  ,  3966 },
	{771  ,  3956 },
	{779  ,  3946 },
	{788  ,  3935 },
	{791  ,  3924 },
	{793  ,  3913 },
	{795  ,  3903 },
	{797  ,  3893 },
	{797  ,  3882 },
	{796  ,  3871 },
	{793  ,  3858 },
	{784  ,  3846 },
	{784  ,  3835 },
	{782  ,  3824 },
	{777  ,  3814 },
	{782  ,  3806 },
	{783  ,  3800 },
	{789  ,  3795 },
	{796  ,  3790 },
	{802  ,  3787 },
	{809  ,  3784 },
	{816  ,  3782 },
	{826  ,  3781 },
	{833  ,  3778 },
	{845  ,  3777 },
	{852  ,  3775 },
	{861  ,  3773 },
	{874  ,  3771 },
	{884  ,  3767 },
	{898  ,  3764 },
	{915  ,  3761 },
	{931  ,  3754 },
	{950  ,  3747 },
	{977  ,  3739 },
	{1006 ,  3728 },
	{1036 ,  3716 },
	{1064 ,  3702 },
	{1101 ,  3686 },
	{1117 ,  3666 },
	{1139 ,  3645 },
	{1160 ,  3620 },
	{1203 ,  3597 },
	{1263 ,  3574 },
	{1357 ,  3552 },
	{1512 ,  3526 },
	{1802 ,  3493 },
	{8609 ,  3444 },
	{8609 ,  3444 },
	{8609 ,  3444 },
	{8609 ,  3444 },
	{8609 ,  3444 },
	{8609 ,  3444 },
	{8609 ,  3444 },
	{8609 ,  3444 },
	{8609 ,  3444 },
	{8609 ,  3444 } 	       
};      

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
	{195  , 4175 },
	{139  , 4115 },
	{330  , 4081 },
	{352  , 4063 },
	{354  , 4047 },
	{360  , 4031 },
	{367  , 4018 },
	{373  , 4005 },
	{380  , 3992 },
	{386  , 3981 },
	{388  , 3969 },
	{395  , 3958 },
	{398  , 3949 },
	{404  , 3938 },
	{407  , 3928 },
	{408  , 3918 },
	{416  , 3910 },
	{416  , 3901 },
	{419  , 3893 },
	{419  , 3882 },
	{416  , 3873 },
	{412  , 3864 },
	{402  , 3852 },
	{396  , 3840 },
	{388  , 3829 },
	{376  , 3817 },
	{371  , 3808 },
	{367  , 3800 },
	{368  , 3795 },
	{368  , 3790 },
	{369  , 3786 },
	{378  , 3784 },
	{377  , 3780 },
	{383  , 3779 },
	{386  , 3778 },
	{393  , 3777 },
	{398  , 3776 },
	{402  , 3775 },
	{409  , 3775 },
	{412  , 3773 },
	{415  , 3771 },
	{427  , 3770 },
	{429  , 3767 },
	{437  , 3764 },
	{443  , 3759 },
	{456  , 3751 },
	{474  , 3744 },
	{491  , 3732 },
	{511  , 3718 },
	{524  , 3702 },
	{534  , 3684 },
	{541  , 3663 },
	{539  , 3641 },
	{536  , 3615 },
	{536  , 3592 },
	{550  , 3570 },
	{580  , 3549 },
	{634  , 3531 },
	{691  , 3497 },
	{760  , 3423 },
	{1003 , 3305 },
	{1003 , 3305 },
	{1003 , 3305 },
	{1003 , 3305 },
	{1003 , 3305 }	       
};     

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
	{147 , 4170},
	{193 , 4145},
	{197 , 4125},
	{201 , 4109},
	{203 , 4093},
	{206 , 4077},
	{203 , 4061},
	{212 , 4048},
	{214 , 4034},
	{215 , 4019},
	{218 , 4007},
	{217 , 3994},
	{226 , 3983},
	{230 , 3973},
	{234 , 3961},
	{230 , 3949},
	{234 , 3939},
	{242 , 3929},
	{244 , 3920},
	{250 , 3912},
	{249 , 3902},
	{252 , 3894},
	{256 , 3886},
	{254 , 3876},
	{255 , 3869},
	{259 , 3862},
	{255 , 3853},
	{253 , 3844},
	{239 , 3832},
	{227 , 3820},
	{216 , 3809},
	{206 , 3799},
	{204 , 3793},
	{202 , 3787},
	{200 , 3782},
	{198 , 3779},
	{199 , 3776},
	{202 , 3774},
	{204 , 3773},
	{209 , 3771},
	{206 , 3770},
	{209 , 3769},
	{213 , 3768},
	{219 , 3767},
	{227 , 3766},
	{230 , 3764},
	{231 , 3762},
	{229 , 3758},
	{236 , 3754},
	{238 , 3748},
	{235 , 3738},
	{237 , 3727},
	{246 , 3716},
	{250 , 3701},
	{259 , 3687},
	{262 , 3668},
	{269 , 3649},
	{272 , 3632},
	{264 , 3612},
	{262 , 3587},
	{292 , 3536},
	{291 , 3492},
	{300 , 3407},
	{335 , 3281},
	{518 , 3062}       
}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	{146 , 4179},
	{140 , 4158},
	{143 , 4139},
	{145 , 4120},
	{145 , 4104},
	{148 , 4088},
	{153 , 4073},
	{153 , 4058},
	{155 , 4045},
	{153 , 4030},
	{163 , 4017},
	{160 , 4004},
	{163 , 3992},
	{163 , 3978},
	{168 , 3967},
	{168 , 3956},
	{173 , 3945},
	{198 , 3935},
	{180 , 3925},
	{185 , 3916},
	{188 , 3906},
	{190 , 3897},
	{195 , 3889},
	{198 , 3880},
	{198 , 3872},
	{195 , 3862},
	{200 , 3854},
	{205 , 3847},
	{198 , 3837},
	{178 , 3823},
	{170 , 3810},
	{160 , 3800},
	{155 , 3791},
	{153 , 3784},
	{158 , 3780},
	{150 , 3775},
	{155 , 3772},
	{155 , 3768},
	{158 , 3765},
	{163 , 3764},
	{165 , 3762},
	{168 , 3761},
	{168 , 3759},
	{170 , 3758},
	{173 , 3757},
	{173 , 3754},
	{178 , 3752},
	{165 , 3746},
	{160 , 3737},
	{173 , 3733},
	{170 , 3725},
	{168 , 3716},
	{170 , 3706},
	{170 , 3695},
	{175 , 3683},
	{178 , 3669},
	{183 , 3653},
	{185 , 3636},
	{188 , 3621},
	{190 , 3605},
	{190 , 3582},
	{193 , 3559},
	{203 , 3538},
	{198 , 3498},
	{198 , 3424}       
}; 

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
    {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

